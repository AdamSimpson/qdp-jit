General remarks and requirements:
--------------------------------

 - C++ compiler with C++11 support (GCC 4.8.2 and 6.3.0 known to work)

 - CUDA 5.5 or higher (which includes libdevice, CUDA 7/8 known to work)

 - GPUs with compute capability 2.0 (or higher, tested on 20, 35, 50)

 - LLVM (4.0.0/4.0.1 known to work)

 - libdevice included with CUDA7/8 are buggy for double precision -> requires patching (patch_libdevice.sh)
   NVIDIA notified, expect clean version from CUDA 9 on


How to install
--------------

1) build and install LLVM 4.0.1 with the following setup:

- "Release" build (speeds up JIT compilation to the point of negligibility of overhead)
- selected targets: "NVPTX"
- shared libs enabled
- RTTI enabled
- ZLIB/TERMINFO disabled

2) patch libdevice, pack libdevice

NVIDIA libdevice provides the support for math functions at the PTX language level.
The libdevice is available for each compute capability (sm_35, sm_50, etc.) and can be found in the CUDA installation.

Unfortunately the libdevice that ships with CUDA 7/8 contains a bug for double precision calculation.
Therefor it is safe to patch the libdevice before packing it into the qdp-jit distribution.
The patch requires the assembler/disassembler from LLVM built in step 1)

a) create and cd to an empty directory (call A)
b) patch libdevice: (./patch_libdevice [path to CUDA libdevice])
c) cd to qdp-jit root
d) pack libdevice: (./patch_libdevice [path to A/or libdevice if no patching was done])

3) build QDP-JIT with the following configuration

- set CUDA path
- set QMP path
- set LLVM path
- only the 'parscalar' arch is supported
- single/double precision is supported


